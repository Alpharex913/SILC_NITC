0
2056
0
0
0
0
0
0
MOV SP , 4114
MOV R0 , "Heapset"
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
CALL 0
POP R0
POP R0
POP R0
POP R0
POP R0
MOV R0 , 0
MOV [4096] , R0
MOV R0 , "Read"
PUSH R0
MOV R0 , -1
PUSH R0
MOV R0 , 4096
PUSH R0
PUSH R0
PUSH R0
CALL 0
POP R0
POP R0
POP R0
POP R0
POP R0
MOV R0 , [4096]
MOV R1 , 0
GT R0 , R1
JZ R0 , L5
MOV R1 , "Alloc"
PUSH R1
PUSH R1
PUSH R1
PUSH R1
PUSH R1
CALL 0
POP R0
POP R1
POP R1
POP R1
POP R1
MOV [4097] , R0
MOV [4098] , -1
MOV [4099] , L0
MOV [4100] , L1
JMP L6
L5:
MOV R1 , "Alloc"
PUSH R1
PUSH R1
PUSH R1
PUSH R1
PUSH R1
CALL 0
POP R0
POP R1
POP R1
POP R1
POP R1
MOV [4097] , R0
MOV [4098] , -1
MOV [4099] , L3
MOV [4100] , L2
MOV [4101] , -1
L6:
MOV R0 , [4097]
MOV [4106] , R0
PUSH R0
MOV R0 , 4099
MOV R0 , [R0]
CALL R0
POP R0
MOV [4096] , R0
MOV R0 , "Exit"
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
PUSH R0
CALL 0
POP R0
POP R1
POP R1
POP R1
POP R1
L0:
PUSH BP
MOV BP , SP
PUSH R0
PUSH R0
CALL L1
POP R0
MOV R1 , BP
ADD R1 , 1
MOV [R1] , R0
MOV R0 , [4106]
ADD R0 , 0
MOV R0 , [R0]
MOV R1 , "Write"
PUSH R1
MOV R1 , -2
PUSH R1
PUSH R0
PUSH R1
PUSH R1
CALL 0
POP R1
POP R1
POP R1
POP R1
POP R1
MOV R1 , BP
ADD R1 , -2
MOV R2 , 1
MOV [R1] , R2
POP R0
POP BP
RET
POP R0
POP BP
RET
L1:
PUSH BP
MOV BP , SP
MOV R0 , [4106]
ADD R0 , 0
MOV R1 , 0
MOV [R0] , R1
MOV R0 , "In A F1"
MOV R1 , "Write"
PUSH R1
MOV R1 , -2
PUSH R1
PUSH R0
PUSH R1
PUSH R1
CALL 0
POP R1
POP R1
POP R1
POP R1
POP R1
MOV R1 , BP
ADD R1 , -2
MOV R2 , 1
MOV [R1] , R2
POP BP
RET
POP BP
RET
L2:
PUSH BP
MOV BP , SP
MOV R0 , [4106]
ADD R0 , 0
MOV R1 , 1
MOV [R0] , R1
MOV R0 , "In B F1"
MOV R1 , "Write"
PUSH R1
MOV R1 , -2
PUSH R1
PUSH R0
PUSH R1
PUSH R1
CALL 0
POP R1
POP R1
POP R1
POP R1
POP R1
MOV R1 , BP
ADD R1 , -2
MOV R2 , 1
MOV [R1] , R2
POP BP
RET
POP BP
RET
L3:
PUSH BP
MOV BP , SP
PUSH R0
PUSH R0
CALL L2
POP R0
MOV R1 , BP
ADD R1 , 1
MOV [R1] , R0
MOV R0 , [4106]
ADD R0 , 0
MOV R0 , [R0]
MOV R1 , "Write"
PUSH R1
MOV R1 , -2
PUSH R1
PUSH R0
PUSH R1
PUSH R1
CALL 0
POP R1
POP R1
POP R1
POP R1
POP R1
MOV R1 , BP
ADD R1 , -2
MOV R2 , 1
MOV [R1] , R2
POP R0
POP BP
RET
POP R0
POP BP
RET
